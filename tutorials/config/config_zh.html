<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LightZero 中如何设置配置文件？ &mdash; LightZero 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/style.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link href="../../_static/css/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            LightZero
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_and_quickstart.html">Installation and Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../algos/customize_algos.html">How to Customize Your Algorithms in LightZero?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../envs/customize_envs.html">How to Customize Your Environments in LightZero?</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">How to Set Configuration Files in LightZero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logs/logs.html">LightZero’s Logging and Monitoring System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/agent/index.html">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/config/index.html">Config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/entry/index.html">Entry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/envs/index.html">Envs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/mcts/index.html">MCTS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/model/index.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/policy/index.html">Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_doc/worker/index.html">Worker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">LightZero</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">LightZero 中如何设置配置文件？</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/tutorials/config/config_zh.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
    
    
  <section id="lightzero">
<h1>LightZero 中如何设置配置文件？<a class="headerlink" href="#lightzero" title="Permalink to this heading"></a></h1>
<p>在 LightZero 框架中，针对特定环境运行特定算法需要设置相应的配置文件。
配置文件主要包含两个部分: <code class="docutils literal notranslate"><span class="pre">main_config</span></code>和<code class="docutils literal notranslate"><span class="pre">create_config</span></code>。
其中，<code class="docutils literal notranslate"><span class="pre">main_config</span></code>定义了算法运行的主要参数，如环境设置、策略设置等；而<code class="docutils literal notranslate"><span class="pre">create_config</span></code>则指定了要使用的具体环境类和策略类及其引用路径。
针对自定义环境运行特定算法，您可以在 <code class="docutils literal notranslate"><span class="pre">zoo/&lt;env&gt;/config/&lt;env&gt;_&lt;algo&gt;_config</span></code> 路径下找到已有环境<code class="docutils literal notranslate"><span class="pre">&lt;env&gt;</span></code>的不同算法<code class="docutils literal notranslate"><span class="pre">&lt;algo&gt;</span></code>对应的默认 <code class="docutils literal notranslate"><span class="pre">config</span></code> 文件，然后在此基础上主要修改 <code class="docutils literal notranslate"><span class="pre">env</span></code> 对应的部分，然后进行调试优化。
下面我们以 <a class="reference external" href="https://github.com/opendilab/LightZero/blob/main/zoo/atari/config/atari_muzero_config.py">atari_muzero_config.py</a> 为例，来详细说明配置文件的设置。</p>
<section id="main-config">
<h2>1. <code class="docutils literal notranslate"><span class="pre">main_config</span></code><a class="headerlink" href="#main-config" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">main_config</span></code>字典包含了算法运行的主要参数设置，主要分为两部分: <code class="docutils literal notranslate"><span class="pre">env</span></code>和<code class="docutils literal notranslate"><span class="pre">policy</span></code>。</p>
<section id="env">
<h3>1.1 <code class="docutils literal notranslate"><span class="pre">env</span></code>部分的主要参数<a class="headerlink" href="#env" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">env_id</span></code>: 指定要使用的环境。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">observation_shape</span></code>: 环境观测的维度。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collector_env_num</span></code>: 经验回放采集器(collector)中并行用于收集数据的环境数目。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">evaluator_env_num</span></code>: 评估器(evaluator)中并行用于评估策略性能的环境数目。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n_evaluator_episode</span></code>: 评估器中所有环境运行的总的 episode 数目。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collect_max_episode_steps</span></code>: 收集数据时单个 episode 允许的最大步数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_max_episode_steps</span></code>: 评估时单个 episode 允许的最大步数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frame_stack_num</span></code>: 叠帧数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gray_scale</span></code>: 是否使用灰度图像。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale</span></code>: 是否缩放输入数据。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clip_rewards</span></code>: 是否裁剪奖励值。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">episode_life</span></code>: 如果为 True，代理丢失一条生命时游戏结束；否则，游戏将在所有生命丢失时结束。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">env_type</span></code>: 环境类型。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frame_skip</span></code>: 动作重复的帧数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop_value</span></code>: 训练停止的目标分数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replay_path</span></code>: 经验回放的存储路径。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save_replay</span></code>: 是否存储回放视频。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">channel_last</span></code>: 是否将 channel 维度放在输入数据的最后一维。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">warp_frame</span></code>: 是否裁剪每一帧的图片。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">manager</span></code>: 指定环境管理器的类型，主要用于控制环境的并行化方式。</p></li>
</ul>
</section>
<section id="policy">
<h3>1.2 <code class="docutils literal notranslate"><span class="pre">policy</span></code>部分的主要参数<a class="headerlink" href="#policy" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model</span></code>: 指定策略所使用的神经网络模型。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">model_type</span></code>: 选择使用的模型类型。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">observation_shape</span></code>: 观测空间的维度。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">action_space_size</span></code>: 动作空间大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">continuous_action_space</span></code>: 动作空间是否是连续的。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_res_blocks</span></code>: 残差块的数量。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">downsample</span></code>: 是否进行降采样。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">norm_type</span></code>: 归一化使用的方法。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_channels</span></code>: 卷积层提取的特征个数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reward_support_range</span></code>: 价值支持集的范围 (<code class="docutils literal notranslate"><span class="pre">(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code>)。<!-- TODO : ADAPT THIS DESCRIPTION, I DON'T SPEAK CHINESE --></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value_support_range</span></code>: 价值支持集的范围 (<code class="docutils literal notranslate"><span class="pre">(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code>)。<!-- TODO : ADAPT THIS DESCRIPTION, I DON'T SPEAK CHINESE --></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bias</span></code>: 是否使用偏置。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">discrete_action_encoding_type</span></code>: 离散化动作空间使用的编码类型。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self_supervised_learning_loss</span></code>: 是否使用自监督学习损失（参照EfficientZero的实现）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image_channel</span></code>: 输入图像通道数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frame_stack_num</span></code>: 堆叠帧数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gray_scale</span></code>: 是否使用灰度图像。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_sim_norm</span></code>: Latent State 后面是否使用 SimNorm。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_sim_norm_kl_loss</span></code>: Latent State 经过 SimNorm 后，对应的 obs_loss 是否使用 KL 散度损失，往往与 SimNorm 配合使用。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">res_connection_in_dynamics</span></code>: 动力学模型中是否使用残差连接。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">learn</span></code>: 学习过程配置</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">learner</span></code>: 学习器配置（字典类型），包括训练迭代次数，检查点保存策略等信息。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resume_training</span></code>: 是否恢复训练。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">collect</span></code>: 收集过程配置</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">collector</span></code>: 收集器配置（字典类型），包括类型和输出频率等信息。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval</span></code>: 收集过程配置</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">evaluator</span></code>: 评估器配置（字典类型），包括评估频率、评估的episode数量和图片保存路径等。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">other</span></code>: 其它配置</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">replay_buffer</span></code>: 经验回放器配置（字典类型），包括存储大小，经验的最大使用次数和最大陈旧度以及吞吐量控制和监控配置相关的参数。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">cuda</span></code>: 指定是否将模型迁移到 GPU 上进行训练。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multi_gpu</span></code>: 是否开启多 GPU 训练。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_wandb</span></code>: 是否使用 wandb。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mcts_ctree</span></code>: 是否使用蒙特卡洛树搜索的cpp版本。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collector_env_num</span></code>: 收集环境的数量。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">evaluator_env_num</span></code>: 评估环境的数量。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">env_type</span></code>: 环境类型（棋盘游戏或非棋盘游戏）。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">action_type</span></code>: 动作类型 (固定动作空间或其他)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">game_segment_length</span></code>: 收集时的基本单元 game segment 对应的长度。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cal_dormant_ratio</span></code>: 是否计算休眠神经元比率。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_augmentation</span></code>: 是否使用数据增强。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">augmentation</span></code>:  数据增强方法。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_per_collect</span></code>: 每次数据收集完以后模型更新的次数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">batch_size</span></code>: 更新时采样的批量大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optim_type</span></code>: 优化器类型。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reanalyze_ratio</span></code>: 重分析系数，控制进行重分析的概率。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reanalyze_noise</span></code>: 是否在 MCTS 重分析时引入噪声，可以增加探索。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reanalyze_batch_size</span></code>: 重分析批量大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reanalyze_partition</span></code>: 重分析的比例。例如，1 表示从整个缓冲区重新分析批次样本，0.5 表示从缓冲区的前一半采样。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">random_collect_episode_num</span></code>: 随机采集的 episode 数量，为探索提供初始数据。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eps</span></code>: 探索控制参数，包括是否使用 epsilon-greedy 方法进行控制，控制参数的更新方式、起始值、终止值、衰减速度等。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">piecewise_decay_lr_scheduler</span></code>: 是否使用分段常数学习率衰减。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">learning_rate</span></code>: 初始学习率。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_simulations</span></code>: MCTS 算法中使用的模拟次数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reward_loss_weight</span></code>: 奖励损失函数的权重。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">policy_loss_weight</span></code>: 策略损失函数的权重。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value_loss_weight</span></code>: 价值损失函数的权重。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl_loss_weight</span></code>: 自监督学习损失函数的权重。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n_episode</span></code>: 并行采集器中所有环境运行的总 episode 数量。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_freq</span></code>: 策略评估频率(按照训练步数计)。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replay_buffer_size</span></code>: 经验回放器的容量。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">target_update_freq</span></code>: 目标网络更新频率。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grad_clip_value</span></code>: 梯度裁剪值。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">discount_factor</span></code>: 折扣因子。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">td_steps</span></code>: TD 步数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_unroll_steps</span></code>: MuZero 训练时展开的步数。</p></li>
</ul>
<p>这里还特别提到了两个易变参数设定区域，通过注释</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==============================================================</span>
<span class="c1"># begin of the most frequently changed config specified by the user</span>
<span class="c1"># ==============================================================</span>
<span class="c1"># 这里是需要根据实际情况经常调整的参数</span>
<span class="c1"># ==============================================================</span>
<span class="c1"># end of the most frequently changed config specified by the user</span>
<span class="c1"># ==============================================================</span>
</pre></div>
</div>
<p>标注出来，提醒用户这些参数是经常需要调整的，如<code class="docutils literal notranslate"><span class="pre">collector_env_num</span></code>，<code class="docutils literal notranslate"><span class="pre">num_simulations</span></code>，<code class="docutils literal notranslate"><span class="pre">update_per_collect</span></code>，<code class="docutils literal notranslate"><span class="pre">batch_size</span></code>，<code class="docutils literal notranslate"><span class="pre">max_env_step</span></code>等。调整这些参数可以优化算法性能，加快训练速度。</p>
</section>
</section>
<section id="create-config">
<h2>2. <code class="docutils literal notranslate"><span class="pre">create_config</span></code><a class="headerlink" href="#create-config" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">create_config</span></code>字典指定了要使用的具体环境类和策略类及其引用路径，主要包含两个部分: <code class="docutils literal notranslate"><span class="pre">env</span></code>和<code class="docutils literal notranslate"><span class="pre">policy</span></code>。</p>
<section id="id1">
<h3>2.1 <code class="docutils literal notranslate"><span class="pre">env</span></code>部分的设置<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;atari_lightzero&#39;</span><span class="p">,</span>
    <span class="n">import_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;zoo.atari.envs.atari_lightzero_env&#39;</span><span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>其中<code class="docutils literal notranslate"><span class="pre">type</span></code>指定了要使用的环境名，<code class="docutils literal notranslate"><span class="pre">env_name</span></code>则指定了该环境类所在的引用路径。这里使用的是预定义的<code class="docutils literal notranslate"><span class="pre">atari_lightzero_env</span></code>。如果要使用自定义的环境类，则需要将<code class="docutils literal notranslate"><span class="pre">type</span></code>改为自定义环境类名，并相应修改<code class="docutils literal notranslate"><span class="pre">import_names</span></code>参数。</p>
</section>
<section id="id2">
<h3>2.2 <code class="docutils literal notranslate"><span class="pre">policy</span></code>部分的设置<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">policy</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;muzero&#39;</span><span class="p">,</span>
    <span class="n">import_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lzero.policy.muzero&#39;</span><span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>其中<code class="docutils literal notranslate"><span class="pre">type</span></code>指定了要使用的策略名，<code class="docutils literal notranslate"><span class="pre">import_names</span></code>则指定了该策略类所在的引用路径。这里使用的是LightZero中预定义的MuZero算法。如果要使用自定义的策略类，则需要将<code class="docutils literal notranslate"><span class="pre">type</span></code>改为自定义策略类，并修改<code class="docutils literal notranslate"><span class="pre">import_names</span></code>参数为自定义策略所在的引用路径。</p>
</section>
</section>
<section id="id3">
<h2>3. 运行算法<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h2>
<p>配置完成后，在<code class="docutils literal notranslate"><span class="pre">main</span></code>函数中调用:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span> 
    <span class="kn">from</span><span class="w"> </span><span class="nn">lzero.entry</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_muzero</span>
    <span class="n">train_muzero</span><span class="p">([</span><span class="n">main_config</span><span class="p">,</span> <span class="n">create_config</span><span class="p">],</span> <span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_env_step</span><span class="o">=</span><span class="n">max_env_step</span><span class="p">)</span>
</pre></div>
</div>
<p>即可运行MuZero算法在配置的环境上进行训练。其中<code class="docutils literal notranslate"><span class="pre">[main_config，</span> <span class="pre">create_config]</span></code>指定了训练使用的配置，<code class="docutils literal notranslate"><span class="pre">seed</span></code>指定了随机数种子，<code class="docutils literal notranslate"><span class="pre">max_env_step</span></code>指定了最大的环境交互步数。</p>
</section>
<section id="id4">
<h2>4. 注意事项<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h2>
<p>以上为您简要介绍了在 LightZero 框架下针对自定义环境配置算法的方法，希望对您有所帮助。在配置过程中，请注意以下几点：</p>
<ul class="simple">
<li><p>当使用自定义环境时，请务必按照 LightZero 框架定义的环境接口标准编写环境类，否则可能引发错误。</p></li>
<li><p>不同的算法和环境需要不同的配置参数。在配置之前，您需要详细了解算法的原理及环境的特点，可以参考相关的学术论文来合理设置参数。</p></li>
<li><p>如果您希望在一个自定义环境上运行 LightZero 支持的算法，可以首先使用该算法的默认<code class="docutils literal notranslate"><span class="pre">policy</span></code>配置，随后根据训练的实际情况进行优化和调整。</p></li>
<li><p>在配置并行环境的数目时，应根据您的计算资源情况来合理设定，以避免因并行环境过多而导致显存不足的问题。</p></li>
<li><p>您可以利用 tensorboard 等工具来监控训练情况，及时发现并解决问题。具体可参考<a class="reference external" href="https://github.com/opendilab/LightZero/tree/main/docs/source/tutorials/logs/logs_zh.md">日志系统文档</a>。</p></li>
</ul>
<p>祝您使用 LightZero 框架顺利！</p>
</section>
</section>



           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, OpenDILab Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>